# 缓存系统

## 缓存系统设计

#### 全量更新 (Full Refresh):

- 场景: 服务器启动、周期性任务（如每半小时）。
- 操作: 清空某类缓存，然后从主数据库重新拉取所有数据进行填充。
- 优点: 实现简单，能保证缓存与数据库的最终一致性。
- 缺点: 如果数据量大，会频繁给数据库带来压力，且在更新间隔内容易出现数据不一致。

#### 增量更新 (Incremental Update):

- 场景: 监控主数据库中数据的 create, update, delete 操作。
- 操作: 当数据发生变更时，只精确地更新 Redis 中对应的那一条缓存，而不是刷新整个集合。
- 优点: 高效、实时性好，对数据库压力小。
- 缺点: 实现逻辑相对复杂，需要处理好各种变更情况。

#### API 主动更新 (API-driven Update):

- 场景: 由某个业务流程触发，需要主动、精确地更新缓存中的特定字段。例如，学生提交试卷后，由专门的 API 更新该次练习的“提交状态”和“得分”。
- 操作: API 接收请求，直接操作 Redis。
- 优点: 灵活，可以处理非数据库直接驱动的缓存更新。
- 缺点: 需要在业务代码中维护缓存操作逻辑。

## 缓存系统实现


